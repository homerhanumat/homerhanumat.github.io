<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.29" />
  <meta name="author" content="Homer White">
  <meta name="description" content="Professor of Mathematics and Computer Science">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  
  <link rel="stylesheet" href="/css/custom.css">
  

  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="HSW Academic">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="HSW Academic">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="/post/2017-09-27-madhava-graph-advice/">

  

  <title>Guidance on the Madhava Graph Problem | HSW Academic</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">HSW Academic</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  

  <div class="article-container">
    <h1 itemprop="name">Guidance on the Madhava Graph Problem</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2017-09-27 10:30:00 &#43;0000 UTC" itemprop="datePublished">
      Wed, Sep 27, 2017
    </time>
  </span>

  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/tags/csc115">csc115</a
    >, 
    
    <a href="/tags/flow-control">flow control</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2f2017-09-27-madhava-graph-advice%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Guidance%20on%20the%20Madhava%20Graph%20Problem&amp;url=%2fpost%2f2017-09-27-madhava-graph-advice%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2f2017-09-27-madhava-graph-advice%2f&amp;title=Guidance%20on%20the%20Madhava%20Graph%20Problem"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2f2017-09-27-madhava-graph-advice%2f&amp;title=Guidance%20on%20the%20Madhava%20Graph%20Problem"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Guidance%20on%20the%20Madhava%20Graph%20Problem&amp;body=%2fpost%2f2017-09-27-madhava-graph-advice%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      <div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This post provides a bit of guidance for students in CSC 115 who are working on the <a href="http://homerhanumat.com/r-notes/exercises-2.html">Madhava Graph exercise</a> in Chapter 4 of the course text.</p>
<!--more-->
<p>As you will recall, the statement of the problem is as follows:</p>
<blockquote>
<p>Recall the function <code>madhavaPI()</code> from <a href="">Section 3.4.1</a>. Use this function to write a function called <code>madhavaGraph()</code> that will do the following: given a number <span class="math inline">\(n\)</span>, the function uses <strong>ggplot2</strong> to produce a line graph of the first <span class="math inline">\(n\)</span> approximations to <span class="math inline">\(\pi\)</span> using the initial terms of the Madhava series.</p>
</blockquote>
<blockquote>
<p>The plot should be a line graph similar to the one produced by the <code>collatz()</code> functions from this Chapter. The function should take a single argument <code>n</code>, whose default value is 10.</p>
</blockquote>
<blockquote>
<p>It should validate the input: if the number entered is not at least 1, then the function should should explain to the user that the he/she must enter a positive number, and then stop.</p>
</blockquote>
</div>
<div id="outline" class="section level2">
<h2>Outline</h2>
<p>Based on the specification in the problem, you can set up an initial outline of the desired function, as follows:</p>
<pre class="r"><code>madhavaGraph &lt;- function(n = 10) {
  
  validate the input: if n isn&#39;t at least 1, stop the function
    
  find the sums:
    * the sum of the first term (4)
    * the sum of the first and second terms (4 - 4/3)
    * the sum of the first three terms ( 4 - 4/3 + 4/5)
    * and so on until ...
    * the sum of the first n terms
  make sure these sums are stored in a vector (let&#39;s call it &quot;results&quot;)
  
  make the plot:
    - the vector 1:n (call it &quot;terms&quot;) gives the x-coordinates of the points
    - the results vector gives y-coordinates
  
}</code></pre>
<p>As you can see, the body of the function has three primary parts:</p>
<ol style="list-style-type: decimal">
<li>validating the input</li>
<li>finding the sums and storing them in the <code>results</code> vector</li>
<li>making the plot.</li>
</ol>
<p>I’ll leave Part 1 entirely to you, but say a bit more about parts 2 and 3.</p>
</div>
<div id="making-the-graph" class="section level2">
<h2>Making the Graph</h2>
<p>First we’ll think about the graph. Since it is made from functions in the <strong>ggplot2</strong> package, you will need to make sure that you load the package when you are designing the function.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<pre class="r"><code>library(ggplot2)</code></pre>
<p>Now suppose that the value of the parameter <code>n</code> is 10. Then by the time you get around to making the graph you’ll have the terms:</p>
<pre class="r"><code>terms &lt;- 1:n
terms</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>You’ll also have the sums, another vector of length 10:</p>
<pre class="r"><code>results</code></pre>
<pre><code>##  [1] 4.000000 2.666667 3.466667 2.895238 3.339683 2.976046 3.283738
##  [8] 3.017072 3.252366 3.041840</code></pre>
<p>From our study of the Collatz function, we know that the way to make a line graph of these points is:</p>
<pre class="r"><code>plotTitle &lt;- paste0(&quot;The first &quot;, n, &quot; Madhava sums&quot;)
  p &lt;- ggplot(mapping = aes(x = terms, y = results)) +
    geom_point() + geom_line() +
    labs( x = &quot;number of terms&quot;, y = &quot;Madhava sum&quot;,
          title = plotTitle)
  print(p)</code></pre>
<p><img src="/post/2017-09-27-madhava-graph-advice_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Hence we can fill in the outline of our function a bit:</p>
<pre class="r"><code>madhavaGraph &lt;- function(n = 10) {
  
  validate the input: if n isn&#39;t at least 1, stop the function
    
  find the sums:
    * the sum of the first term (4)
    * the sum of the first and second terms (4 - 4/3)
    * the sum of the first three terms ( 4 - 4/3 + 4/5)
    * and so on until ...
    * the sum of the first n terms
  make sure these sums are stored in a vector (let&#39;s call it &quot;results&quot;)
  
 plotTitle &lt;- paste0(&quot;The first &quot;, n, &quot; Madhava sums&quot;)
  p &lt;- ggplot(mapping = aes(x = terms, y = results)) +
    geom_point() + geom_line() +
    labs( x = &quot;number of terms&quot;, y = &quot;Madhava sum&quot;,
          title = plotTitle)
  print(p)
  
}</code></pre>
</div>
<div id="finding-and-storing-the-sums" class="section level2">
<h2>Finding and Storing the Sums</h2>
<p>The outline for this part of the task looked like:</p>
<ul>
<li>get the sum of the first term (just 1)</li>
<li>get the sum of the first and second terms (<span class="math inline">\(4 - 4/3\)</span>)</li>
<li>get the sum of the first three terms (<span class="math inline">\(4 - 4/3 + 4/5\)</span>)</li>
<li>and so on until …</li>
<li>get the sum of the first n terms</li>
</ul>
<p>At each step in above process, we will need to store our sum in the <code>results</code> vector, so that it isn’t lost.</p>
<p>The natural way to accomplish the above task is to use a <code>for</code>-loop in which we iterate by index and store results. The outline of such a loop is:</p>
<pre class="r"><code>results &lt;- numeric(n)
for ( i in 1:n ) {
  
  results[i] &lt;- the sum of the first i terms
  
}</code></pre>
<p>We already know how to find the sum of the first <span class="math inline">\(i\)</span> terms: we can just use the function <code>madhavaPI()</code> from Chapter 3:</p>
<pre class="r"><code>madhavaPI &lt;- function(n = 1000000) {
  k &lt;- 1:n
  terms &lt;- (-1)^(k+1)*4/(2*k-1)
  sum(terms)
}</code></pre>
<p>Hence when you are working inside the loop, you can get and store the results all in one line:</p>
<pre class="r"><code>results[i] &lt;- madhavaPI(i)</code></pre>
<p>Well, to be totally truthful, you can do this <em>provided that</em> R knows what <code>madhavaPI()</code> is. Hence you must either:</p>
<ul>
<li>hope that whoever uses <code>madhavaGraph()</code> has <code>madhavaPI()</code> in their Global Environment so that <code>madhavaGraph()</code> can look up the name <code>madhavaPI</code> when it needs it, or</li>
<li>define <code>madhavaPI()</code> inside the body of <code>madhavaGraph()</code>, before you start computing any sums.</li>
</ul>
<p>The latter seems to be the safer choice!</p>
</div>
<div id="put-it-all-together" class="section level2">
<h2>Put It All Together</h2>
<p>You still have the task of filling in the outline completely and then testing <code>madhavaGraph()</code> until it works.</p>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>The function itself does not need to load <strong>ggplot2</strong>, but you should make sure to tell anyone who plans to use the function that they need to load the package!<a href="#fnref1">↩</a></p></li>
</ol>
</div>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="/post/blogdown-demo-sites/"><span
      aria-hidden="true">&larr;</span> Demo Sites for Blogdown-ified Hugo Themes</a></li>
    

    
  </ul>
</nav>

</div>

<div class="article-container">
  <div id="gh-comments-list"></div>

<script>
  var url = "https://github.com/homerhanumat/homerhanumat.github.io/issues/" + ""
  var api_url = "https://api.github.com/repos/homerhanumat/homerhanumat.github.io/issues/" + "" + "/comments"
</script>
</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Homer White &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="/js/hugo-academic.js"></script>
    
    <script src="/js/ghcomments.js"></script>
    

    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/r.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    <script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
    

  </body>
</html>

